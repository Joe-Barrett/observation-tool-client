<!--
  ~ ALMA - Atacama Large Millimeter Array
  ~ Copyright (c) UKATC - UK Astronomy Technology Centre, Science and Technology Facilities Council, 2018
  ~ (in the framework of the ALMA collaboration).
  ~ All rights reserved.
  ~
  ~ This library is free software; you can redistribute it and/or
  ~ modify it under the terms of the GNU Lesser General Public
  ~ License as published by the Free Software Foundation; either
  ~ version 2.1 of the License, or (at your option) any later version.
  ~
  ~ This library is distributed in the hope that it will be useful,
  ~ but WITHOUT ANY WARRANTY; without even the implied warranty of
  ~ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU
  ~ Lesser General Public License for more details.
  ~
  ~ You should have received a copy of the GNU Lesser General Public
  ~ License along with this library; if not, write to the Free Software
  ~ Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307  USA
  -->

<div class="ui inverted dimmer"
     [class.active]="isSearching">
  <div class="ui text loader">Searching...</div>
</div>
<div class="header">{{modal.context.title}}</div>
<div class="content">
  <app-refine-panel [name]="this.modal.context.name"
                    (refineSearch)="search($event[0], $event[1])"></app-refine-panel>
  <div *ngIf="resultsFound; else noResults">
    <app-results-table [searchResults]="searchResults"></app-results-table>
  </div>
  <ng-template #noResults><h4>No Results</h4></ng-template>
</div>
<div class="actions">
  <button class="ui tiny compact blue labeled icon button"
          (click)="modal.approve(undefined)">
    <i class="add user icon"></i> Select Investigator
  </button>
  <button class="ui tiny compact red  labeled icon button"
          (click)="modal.deny(undefined)">
    <i class="remove icon"></i> Cancel
  </button>
</div>
