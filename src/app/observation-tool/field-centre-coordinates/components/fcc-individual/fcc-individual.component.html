<div class="field">
  <label for="offsetSelector"
         ngbTooltip="Unit of offset pointings"
         #offsetTooltip="ngbTooltip"
         [tooltip-delay]="offsetTooltip">
    Offset Unit
  </label>
  <sui-select id="offsetSelector"
              [(ngModel)]="data.offsetUnit"
              [disabled]="radioValue === 'absolute'">
    <sui-select-option *ngFor="let unit of offsetUnits"
                       value="{{unit}}"
                       (selcted)="unit === 'mas'">
      {{unit}}
    </sui-select-option>
  </sui-select>
</div>


<div class="field">
  <div class="ui mini statistic">
    <label class="label"
           ngbTooltip="Number of pointings in this field"
           #pointingsLableTooltip="ngbTooltip"
           [tooltip-delay]="pointingsLableTooltip">
      # Pointings
    </label>
    <p class="value">{{data.rows.length}}</p>
  </div>
</div>


<table class="ui celled table">
  <thead>
    <tr *ngIf="radioValue === 'relative'"
        ngbTooltip="Coordinate offsets for each pointing">
      <th>
        {{_persistenceService.getDataItem('field-setup', 'field-source', 'chosenSystem').latHeader}}
        [{{data.offsetUnit}}]
      </th>
      <th>
        {{_persistenceService.getDataItem('field-setup', 'field-source', 'chosenSystem').lonHeader}}
        [{{data.offsetUnit}}]
      </th>
    </tr>
    <tr *ngIf="radioValue === 'absolute'">
      <th>{{_persistenceService.getDataItem('field-setup', 'field-source', 'chosenSystem').latHeader}}</th>
      <th>{{_persistenceService.getDataItem('field-setup', 'field-source', 'chosenSystem').lonHeader}}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let row of data.rows"
        (keyup.enter)="log('enter')">
      <td contenteditable (blur)="log('blur')">
        {{radioValue === 'absolute' ? (row.lon.value | sexagesimal) : (row.lon.value | degrees)}}
      </td>
      <td contenteditable>
        {{radioValue === 'absolute' ? (row.lat.value | sexagesimal) : (row.lat.value | degrees)}}
      </td>
    </tr>
  </tbody>
</table>


<div class="ui blue icon buttons">
  <button class="ui button"
    (click)="addRow()"
          ngbTooltip="Add a pointing"
          #addButtonTooltip="ngbTooltip"
          placement="left"
          [tooltip-delay]="addButtonTooltip">
    <i class="plus icon"></i>
  </button>
  <button class="ui button"
    (click)="removeRow()"
          ngbTooltip="Remove a pointing"
          #removeButtonTooltip="ngbTooltip"
          [tooltip-delay]="removeButtonTooltip">
    <i class="minus icon"></i>
  </button>
  <button class="ui button"
          ngbTooltip="Import pointings"
          #importButtonTooltip="ngbTooltip"
          [tooltip-delay]="importButtonTooltip">
    <i class="download icon"></i>
  </button>
  <button class="ui button"
          ngbTooltip="Export current pointings"
          #exportButtonTooltip="ngbTooltip"
          placement="right"
          [tooltip-delay]="exportButtonTooltip">
    <i class="upload icon"></i>
  </button>
</div>


