<div class="ui form container">
  <div class="ui segment">
    <h4 class="ui dividing header">Proposal Information</h4>
    <div class="field">
      <label for="titleInput">Proposal Title</label>
      <input id="titleInput"
             type="text"
             [(ngModel)]="data.title">
    </div>
    <div class="field">
      <label for="cycleInput">Proposal Cycle</label>
      <input id="cycleInput"
             type="text"
             [(ngModel)]="data.cycle">
    </div>
    <div class="field">
      <label for="abstractTextArea">Abstract</label>
      <textarea #abstractTextArea
                id="abstractTextArea"
                rows="5"
                [(ngModel)]="data.abstract"></textarea>
      <p>Characters remaining: {{1200-abstractTextArea.value.length}}</p>
    </div>
    <div class="field">
      <label for="relatedProposalsTextArea">Related Proposals</label>
      <textarea id="relatedProposalsTextArea"
                rows="5"
                [(ngModel)]="data.relatedProposals"></textarea>
    </div>
    <div class="field">
      <label for="previousProposalsTextArea">Previous Proposals</label>
      <textarea id="previousProposalsTextArea"
                rows="5"
                [(ngModel)]="data.previousProposals"></textarea>
    </div>
    <div class="field">
      <label>Student Project</label>
      <sui-checkbox class="toggle"
                    [(ngModel)]="data.studentProject"></sui-checkbox>
    </div>
  </div>
  <div class="ui segment">
    <div class="field">
      <h4 class="ui dividing header">Proposal Type</h4>
      <div class="inline fields">
        <div class="field" *ngFor="let typeRadio of typeRadios">
          <sui-radio-button id="{{typeRadio.id}}"
                            name="typeRadios"
                            value="{{typeRadio.id}}"
                            [(ngModel)]="data.proposalType">
            {{typeRadio.text}}
          </sui-radio-button>
        </div>
      </div>
    </div>
  </div>
  <div class="ui segment">
    <h4 class="ui dividing header">Scientific Category</h4>
    <div class="inline fields">
      <div class="field" *ngFor="let categoryRadio of categoryKeys(categoryRadios)">
        <sui-radio-button id="{{categoryRadios[categoryRadio].value}}"
                          name="categoryRadios"
                          value="{{categoryRadios[categoryRadio].value}}"
                          [(ngModel)]="data.scientificCategory"
                          (currentValueChange)="categoryRadioChange()">
          {{categoryRadios[categoryRadio].text}}
        </sui-radio-button>
      </div>
    </div>

    <div class="field">
      <label for="keywordSelector">Keywords (chosen {{data.keywords === null ? 0 : data.keywords.length}} of 2)</label>
      <sui-multi-select #keywordSelector
                        id="keywordSelector"
                        class="selection"
                        [(ngModel)]="data.keywords"
                        (maxSelected)="2">
        <sui-select-option *ngFor="let option of categoryRadios[data.scientificCategory].keywords"
                           [value]="option">
          {{option}}
        </sui-select-option>
      </sui-multi-select>
    </div>
  </div>
  <div class="ui segment">
    <h4 class="ui dividing header">Investigators</h4>
    <table class="ui celled table">
      <thead>
        <tr>
          <th>Type</th>
          <th>Full Name</th>
          <th>Email</th>
          <th>Affiliation</th>
          <th>ALMA ID</th>
          <th>Executive</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>PI</td>
          <td>Not Set</td>
          <td>Not Set</td>
          <td>Not Set</td>
          <td>Not Set</td>
          <td>Non-AMLA</td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <th colspan="6">
            <div class="ui tiny compact right floated buttons">
              <button class="ui blue button"
                      [disabled]="data.proposalType === 'regular' || data.proposalType === 'opportunity'">
                Add CoPI
              </button>
              <button class="ui blue button">Add Col</button>
              <button class="ui red button">Remove Collaborator</button>
            </div>
            <button class="ui tiny compact right floated blue button">Add from Proposal</button>
            <button class="ui tiny compact right floated blue button">Select PI</button>
          </th>
        </tr>
      </tfoot>
    </table>
  </div>
  <div class="ui segment">
    <h4 class="ui dividing header">Science Case (Mandatory, PDF, 4 pages max.)</h4>
    <div class="ui fluid mini action input">
      <input title="science case input" type="text">
      <button class="ui tiny blue button">Attach</button>
      <button class="ui tiny basic blue button">View</button>
      <button class="ui tiny red button">Detach</button>
    </div>
    <p>PDF, 4 pages max.</p>
  </div>
  <div class="ui segment">
    <h4 class="ui dividing header">Duplicate Observations</h4>
    <textarea title="Duplicate observations input"
              rows="5"
              [(ngModel)]="data.duplicateObservations"></textarea>
  </div>
</div>
