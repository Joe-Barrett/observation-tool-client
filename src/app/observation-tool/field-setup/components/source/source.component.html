<form class="ui form" [formGroup]="sourceForm">
  <!-- Source selector -->
  <div class="field">
    <label for="sourceNameInput">Source Name</label>
    <div class="ui action input">
      <input id="sourceNameInput" formControlName="sourceName">
      <button class="ui blue button">Resolve</button>
    </div>
  </div>

  <div class="three fields">
    <!-- Solar checkbox -->
    <div class="field">
      <sui-checkbox formControlName="solarSystemObject">Choose a Solar System Object?</sui-checkbox>
    </div>

    <!-- Solar selector -->
    <div class="field">
      <label for="solarSystemSelector">Name of Object</label>
      <sui-select id="solarSystemSelector"
                  class="selection"
                  formControlName="chosenSolarObject">
        <sui-select-option *ngFor="let body of solarBodies" [value]="body">{{body}}</sui-select-option>
      </sui-select>
    </div>

    <!--Target type radios-->
    <div class="field">
      <label>Target Type</label>
      <sui-radio-button name="targetTypeRadios"
                        value="individual"
                        formControlName="targetType">Individual Pointing(s)
      </sui-radio-button>
      <sui-radio-button name="targetTypeRadios"
                        value="rectangular"
                        formControlName="targetType">Rectangular Field
      </sui-radio-button>
    </div>
  </div>

  <div *ngIf="!sourceForm.value.solarSystemObject">

    <div class="three fields">
      <div class="field">
        <!-- System Selector -->
        <label>System</label>
        <div class="inline field">
          <sui-select class="selection"
                      formControlName="chosenSystem"
                      (selectedOptionChange)="systemChange()">
            <sui-select-option *ngFor="let system of systemService.getSystems()"
                               value="{{system}}"></sui-select-option>
          </sui-select>
          <sui-checkbox formControlName="sexagesimalUnits"
                        [isDisabled]="sexagesimalCheckboxDisabled">Sexagesimal Units
          </sui-checkbox>
        </div>
      </div>

      <!-- Lat input -->
      <div class="field"
           suiPopup
           popupText="The latitude of the source">
        <label for="latInput">
          {{
          this.sourceForm.value.sexagesimalUnits ?
          this.currentSystem?.sexagesimalLabels.latLabel :
          this.currentSystem?.normalLabels.latLabel
          }}
        </label>
        <input #latInput
               id="latInput"
               (keyup.enter)="setLatLon(latInput.value, latInput)"
               (blur)="setLatLon(latInput.value, latInput)"
               placeholder="0">
      </div>

      <!-- Long input -->
      <div class="field"
           suiPopup
           popupText="The longitude of the source">
        <label for="lonInput">
          {{
          this.sourceForm.value.sexagesimalUnits ?
          this.currentSystem?.sexagesimalLabels.lonLabel :
          this.currentSystem?.normalLabels.lonLabel
          }}
        </label>
        <input #lonInput
               id="lonInput"
               (keyup.enter)="setLatLon(lonInput.value, lonInput)"
               (blur)="setLatLon(lonInput.value, lonInput)"
               placeholder="0">
      </div>
    </div>


    <div class="three fields">
      <!-- Parallax input -->
      <div class="field"
           suiPopup
           popupText="The parallax angle of the source">
        <label for="parallaxInput">
          Parallax
        </label>
        <div class="ui action input">
          <input id="parallaxInput"
                 placeholder="0.00000">
          <sui-select class="selection"
                      title="Parallax unit selector">
            <sui-select-option value="mas">mas</sui-select-option>
            <sui-select-option value="arcsec">arcsec</sui-select-option>
          </sui-select>
        </div>
      </div>

      <!-- PM RA input -->
      <div class="field"
           suiPopup
           popupText="Proper motion along cross-declination direction">
        <label for="pmRaInput">
          PM RA
        </label>
        <div class="ui action input">
          <input id="pmRaInput"
                 placeholder="0.00000">
          <sui-select class="selection"
                      title="Proper motion ra unit selector">
            <sui-select-option value="mas/yr">mas/yr</sui-select-option>
            <sui-select-option value="arcsec/s">arcsec/s</sui-select-option>
            <sui-select-option value="arcmin/s">arcmin/s</sui-select-option>
            <sui-select-option value="deg/s">deg/s</sui-select-option>
          </sui-select>
        </div>
      </div>

      <!-- PM Dec input -->
      <div class="field"
           suiPopup
           popupText="Proper motion along declination direction">
        <label for="plgecInput">
          PM DEC
        </label>
        <div class="ui action input">
          <input id="plgecInput"
                 placeholder="0.00000">
          <sui-select class="selection"
                      title="proper motion declination unit selector">
            <sui-select-option value="mas/yr">mas/yr</sui-select-option>
            <sui-select-option value="arcsec/s">arcsec/s</sui-select-option>
            <sui-select-option value="arcmin/s">arcmin/s</sui-select-option>
            <sui-select-option value="deg/s">deg/s</sui-select-option>
          </sui-select>
        </div>
      </div>
    </div>

    <div class="fields">
      <!-- Radial input -->
      <div class="field"
           suiPopup
           popupText="Velocity value in your desired units">
        <label for="radialVelocityInput">
          Radial Velocity
        </label>
        <div class="ui action input">
          <input id="radialVelocityInput"
                 placeholder="0.000">
          <sui-select class="selection"
                      title="Radial velocity unit selector">
            <sui-select-option value="m/s">m/s</sui-select-option>
            <sui-select-option value="km/s">km/s</sui-select-option>
          </sui-select>
          <sui-select class="selection"
                      title="Radial velocity reference frame selector"
                      formControlName="radialVelocityReferenceFrame">
            <sui-select-option value="bar">bar</sui-select-option>
            <sui-select-option value="lsrk">lsrk</sui-select-option>
            <sui-select-option value="topo">topo</sui-select-option>
            <sui-select-option value="hel">hel</sui-select-option>
          </sui-select>
        </div>
      </div>

      <!-- Redshift input -->
      <div class="four wide field"
           suiPopup
           popupText="Astronomical redshift, calculated using the specified velocity convention">
        <label for="zInput">
          Z
        </label>
        <input id="zInput"
               placeholder="0.000000000"
               formControlName="redshift">
      </div>

      <!-- Doppler selector -->
      <div class="two wide field"
           suiPopup
           popupText="Doppler calculation convention to be used">
        <label for="dopplerSelect">
          Doppler Type
        </label>
        <sui-select class="selection"
                    id="dopplerSelect"
                    formControlName="dopplerType">
          <sui-select-option value="radio">Radio</sui-select-option>
          <sui-select-option value="optical">Optical</sui-select-option>
          <sui-select-option value="relativistic">Relativistic</sui-select-option>
        </sui-select>
      </div>
    </div>
  </div><!-- div *ngIf -->
</form><!-- div.ui.form -->
